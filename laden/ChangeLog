2004-10-23  Marcus Brinkmann  <marcus@gnu.org>

	* ia32-cmain.c (start_kernel): Flush the D-cache.
	* laden.c (main): Call panic() instead of shutdown() if kernel
	returns.

2004-03-30  Marcus Brinkmann  <marcus@gnu.org>

	* loader.c (loader_elf_dest, loader_elf_load): Use 32 and 64
	instead of _L4_WORDSIZE_32 and _L4_WORDSIZE_64.

2004-03-15  Marcus Brinkmann  <marcus@gnu.org>

	* loader.h (loader_get_memory_desc): Change return type to
	l4_memory_desc_t *.
	* laden.h (rootserver_t): Remove typedef.
	(kernel, sigma0, sigma1, rootserver): Change type to
	l4_rootserver_t.
	(memory_map): Change type to l4_memory_desc_t.
	* laden.c (kernel, sigma0, sigma1, rootserver): Change type to
	l4_rootserver_t.
	(memory_map): Change type to l4_memory_desc_t.
	(loader_get_memory_desc): Change return type to l4_memory_desc_t *.
	* kip-fixup.c (kip_fixup): Use cast to l4_memory_desc_t.

2003-10-26  Marcus Brinkmann  <marcus@gnu.org>

	* Makefile.am (AM_CPPFLAGS): Removed.
	(laden_CFLAGS): Rename to ...
	(laden_CPPFLAGS): Add AM_CPPFLAGS.  Change -I$(top_srcdir)/include
	to -I$(top_builddir).

2003-10-12  Marcus Brinkmann  <marcus@gnu.org>

	* config.m4: New file.
	* Makefile.am (laden_LDFLAGS): Replace load address with
	@HURD_LADEN_LOAD_ADDRESS@.

2003-10-04  Marcus Brinkmann  <marcus@gnu.org>

	* laden.h (add_memory_map): Don't round END up to 1K.
	* ia32-cmain.c (find_components): Pass the address of the last
	byte as END to add_memory_map.  Don't do bogus alignment check
	without BIOS map.  Add 0xc0000 - 0xf0000 as shared memory.
	Initially, add the whole address space as shared memory to allow
	arbitrary device access.
	* loader.c: Include <l4/kip.h>.
	(mem_check): Change type of address args to l4_word_t.  Use
	l4_memory_desc_low and l4_memory_desc_high to determine range of
	memory descriptor.  The high address is inclusive now, so take
	this into account.  Allow conventional memory descriptors to
	override non-conventional.  Use L4_PRIxWORD.

2003-09-29  Marcus Brinkmann  <marcus@gnu.org>

	* loader.c (loader_elf_load): Fix wordsize check.  Submitted by
	Johan Rydberg.

2003-09-25  Johan Rydberg  <jrydberg@night.trouble.net>

        * laden.c (main): Call start_kernel to launch kernel instead
        of calling the kernel start address.
        * laden.h (start_kernel): Prototype.
        * ia32-cmain.c (start_kernel): New function.

2003-09-25  Marcus Brinkmann  <marcus@gnu.org>

	* loader.c [HAVE_CONFIG_H]: Include <config.h>.
	(loader_elf_load): Rewritten architecture check of ELF binary,
	support PPC now.

2003-09-25  Marcus Brinkmann  <marcus@gnu.org>

	* elf.h: Remove cruft.

2003-09-21  Marco Gerards  <metgerards@student.han.nl>

	* output-serial.c (serial_init): Make sure the order of the
	arguments of outb are correct.

	* Makefile.am (AM_CPPFLAGS): New variable.

2003-09-19  Marcus Brinkmann  <marcus@gnu.org>

	* ia32-cmain.c (debug_dump): Cast mod[nr].string to char *.
	* laden.c (parse_args): Remove superfluous arguments.
	* loader.c: Include <string.h>.
	* kip-fixup.c (kip_fixup): Use %p for pointer.
	* output-serial.c: Include <stdlib.h>.
	
	* Makefile.am (laden_CFLAGS): Add -I$(top_srcdir)/libc-parts.
	* output.c: Include <stdlib.h> and <string.h>.
	* output.h (struct output_driver): Add CFG argument to INIT
	function.
	(output_init): Make NAME argument const, rename it to DRIVER.
	* output.c (output_init): Likewise.  Only check if the prefix of
	DRIVER is a driver name.  Then skip a trailing comma and pass the
	remainder via the new variable DRIVER_CFG to the init function of
	the driver.
	* output-vga.c (vga_init): Add CFG argument.
	* output-serial.c: New file by Daniel Wagner <wagi@gmx.de>.

2003-07-26  Marcus Brinkmann  <marcus@gnu.org>

	* Initial check-in.

