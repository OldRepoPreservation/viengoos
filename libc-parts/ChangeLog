2008-01-24  Neal H. Walfield  <neal@gnu.org>

	* Makefile.am (ARCH_SOURCES): Rename from this...
	(ARCH_COMMON_SOURCES): ... to this.
	(ARCH_USER_SOURCES): New variable.
	(ARCH_KERNEL_SOURCES): Likewise.
	(noinst_LIBRARIES): Add libc-kernel.a.
	(common_sources): New variable.
	(libc_parts_a_SOURCES): Move most files to common_sources.  Add
	$(ARCH_COMMON_SOURCES), $(ARCH_USER_SOURCES)
	(libc_parts_a_CPPFLAGS): Add -I$(LIBC)/include.
	(libc_kernel_a_SOURCES): New variable.
	(libc_kernel_a_CPPFLAGS): Likewise.
	(libc_kernel_a_LIBADD): Likewise.
	* s_printf.c: Move from ../ruth/output.c.
	(s_putchar) [RM_INTERN || _L4_TEST_ENVIRONMENT]: Add appropriate
	implementation.
	* _exit.c: New file.
	* getpagesize.c: Likewise.
	* ia32-cmain.c: Copied from ../ruth/ia32-cmain.c.  Removed dead
	code.  Don't include "ruth.h".  Add prototype for main.
	(program_name): New variable.
	(finish): Setup program_name based on ARGV[0].
	* ia32-crt0.S: Copied from ../ruth/ia32-crt0.c.
	* panic.c: Copied from ../ruth/panic.c.
	(panic_): Call _exit.
	* startup.c: New file.

2008-01-24  Neal H. Walfield  <neal@gnu.org>

	* Makefile.am (t_setjmp_CPPFLAGS): Remove -D_L4_TEST_ENVIRONMENT.
	Add -DS_PRINTF=printf.

2008-01-24  Neal H. Walfield  <neal@gnu.org>

	* assert.h: Include <hurd/stddef.h>.
	(assertx): Use S_PRINTF rather than printf.

2008-01-23  Neal H. Walfield  <neal@gnu.org>

	* sys/mman.h: New file based on Glibc's <sys/mman.h> and
	<bits/mman.h>.

2008-01-13  Neal H. Walfield  <neal@gnu.org>

	* backtrace.c: New file.
	* Makefile.am (libc_parts_a_SOURCES): Add backtrace.c.

	* assert.h (assertx): Print a back trace.

2008-01-08  Neal H. Walfield  <neal@gnu.org>

	* setjmp.h: New file.
	* ia32-setjmp.S: New file.
	* t-setjmp.c: New file.
	* Makefile.am (ARCH_SOURCES): New variable.
	[ARCH_IA32]: Set to ia32-setjmp.S.
	(libc_parts_a_SOURCES): Add $(ARCH_SOURCES).
	(COMMON_CPPFLAGS): New variable.
	(libc_parts_a_CPPFLAGS): Set it to $(COMMON_CPPFLAGS).
	(TESTS): New variable.
	(check_PROGRAMS): Likewise.
	(t_setjmp_CPPFLAGS): Likewise.
	(t_setjmp_SOURCES): Likewise.

2007-12-23  Neal H. Walfield  <neal@gnu.org>

	* strtol.c: Don't inlcude <stdlib.h>.

2007-12-12  Neal H. Walfield  <neal@gnu.org>

	* assert.h (assertx): New macro.

2007-12-10  Neal H. Walfield  <neal@gnu.org>

	* assert.h [! NDEBUG]: Include <l4/thread.h>.
	[! NDEBUG] (assert): Also print the caller's thread id.

2007-11-16  Neal H. Walfield  <neal@gnu.org>

	* assert.h (assert): Print program_name and EXPR as a string.

2007-10-17  Neal H. Walfield  <neal@gnu.org>

	* assert.h [_L4_TEST_ENVIRONMENT]: Include the next <assert.h>.

2005-01-12  Neal H. Walfield  <neal@gnu.org>

	* assert.h: Include prototype for printf.
	(assert) [!NDEBUG]: Rewrite to do something useful.

2004-10-20  Marcus Brinkmann  <marcus@gnu.org>

	* assert.h (assert): Only define if not defined.

2004-04-05  Marcus Brinkmann  <marcus@gnu.org>

	* assert.h (assert): Fix last change.

2004-03-25  Marcus Brinkmann  <marcus@gnu.org>

	* assert.h (assert): Provide a dummy statement.

2003-10-16  Johan Rydberg  <jrydberg@night.trouble.net>

	* Makefile.am (libc_parts_a_SOURCES): Add assert.h.
	* assert.h: New file.

2003-09-19  Marcus Brinkmann  <marcus@gnu.org>

	* ctype.h, errno.h, errno.c: New files.
	* c-ctype.h, c-ctype.c, strtol.c: New files from gnulib.
	* Makefile.am (libc_parts_a_SOURCES): Add ctype.h, c-ctype.h,
	c-ctype.c, errno.h, errno.c, strtol.c, strtoll.c, strtoul.c and
	strtoull.c.
	(routines): Add atoi, atoll, strtoimax and strtoumax.
